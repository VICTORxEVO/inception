listen=YES
listen_ipv6=NO

# Run in foreground for Docker
background=NO

# Disable seccomp filter (fixes "child died" error in Docker)
seccomp_sandbox=NO

anonymous_enable=NO

# Allow system users
local_enable=YES

# Allow write operations
write_enable=YES
local_umask=022

# Jail only users in list
chroot_local_user=NO
chroot_list_enable=YES
chroot_list_file=/etc/vsftpd.chroot_list

# Allow writable chroot
allow_writeable_chroot=YES

# Passive mode ports (match docker-compose)
pasv_enable=YES
pasv_min_port=21100
pasv_max_port=21110

# log
xferlog_enable=YES
xferlog_file=/var/log/vsftpd.log

# limit max clients
max_clients=10
max_per_ip=5